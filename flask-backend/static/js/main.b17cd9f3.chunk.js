(this["webpackJsonpflask-react-excel-upload"]=this["webpackJsonpflask-react-excel-upload"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(2),c=n.n(i),s=n(15),o=n.n(s),l=n(3),r=n(16),u=n(5),d=n(4),j=(n(23),n(24),function(e){return Object(a.jsxs)("div",{className:"brickContainer",children:[Object(a.jsx)("span",{children:e.heading}),Object(a.jsx)("span",{children:e.name})]})}),p=(n(25),n(17)),b=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).onFileChange=function(e){i.setState({selectedFile:e.target.files[0]})},i.onSubmit=function(e){e.preventDefault();var t=sessionStorage.getItem("api")+"/data",n=new FormData;n.append("inputFile",i.state.selectedFile);Object(p.post)(t,n,{headers:{"content-type":"multipart/form-data"}}).then((function(e){i.setState({table:e.data}),i.props.fetching()}))},i.render=function(){return Object(a.jsxs)("div",{className:"form-container",children:[Object(a.jsx)("p",{children:"---- Upload Invoices ----"}),Object(a.jsx)("input",{id:"inputFile",type:"file",onChange:i.onFileChange,accept:".xls,.xlsx"}),Object(a.jsx)("input",{onClick:i.onSubmit,className:"submit-btn",type:"submit"}),Object(a.jsx)("div",{className:"result",dangerouslySetInnerHTML:{__html:i.state.table}})]})},i.state={selectedFile:null,table:null},i}return n}(c.a.Component),h=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).fetchContent=function(){var e=sessionStorage.getItem("api")+"/api/v1?query=status",t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(null),200===t.status){var n=JSON.parse(t.responseText);i.setState({uploaded:n.uploaded,invalid:n.invalid,vendor:n.vendor,amount:n.amount})}},i.deleteContent=function(){var e=sessionStorage.getItem("api");fetch(e+"/api/v1?query=clear",{method:"GET"}).then((function(e){})).then((function(e){window.location.reload()})).catch((function(e){console.log(e)}))},i.render=function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"wallContainer",children:[Object(a.jsx)(j,{heading:"Uploaded",name:i.state.uploaded}),Object(a.jsx)(j,{heading:"Invalid",name:i.state.invalid}),Object(a.jsx)(j,{heading:"Vendors",name:i.state.vendor}),Object(a.jsx)(j,{heading:"Amount",name:i.state.amount})]}),Object(a.jsx)("div",{className:"formContainer",children:Object(a.jsx)(b,{fetching:i.fetchContent})}),Object(a.jsx)("button",{className:"addButton",onClick:i.deleteContent,children:"Delete Database"})]})},i.state={uploaded:null,invalid:null,vendor:null,amount:null},i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.fetchContent()}}]),n}(c.a.Component);var f=function(){return Object(a.jsx)(h,{})};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(f,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.b17cd9f3.chunk.js.map